<!doctype html>
<html lang="en" ng-app="Cloobster">
<head>
  <meta charset="utf-8">
  <title>Cloobster</title>
  <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
  </style>
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/jquery.fileupload-ui.css"/>
  <link rel="stylesheet" href="css/cloobster.css"/>
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
</head>
<body>
  <div id="fb-root"></div>
  <script>
      window.fbAsyncInit = function() {
          FB.init({
            appId      : '359215437471990',
            status     : true, 
            channelUrl : '//localhost/facebookchannel.html', // Channel File
            cookie     : true,
            xfbml      : false,
            oauth      : true
          });
          angular.element(document).scope().$broadcast('fbInit');

         };
        (function(d){
           var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
           js = d.createElement('script'); js.id = id; js.async = true;
           js.src = "//connect.facebook.net/en_US/all.js";
           d.getElementsByTagName('head')[0].appendChild(js);
         }(document));
  </script>
  <div class="navbar navbar-fixed-top" ng-controller="Cloobster.Navigation">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        <a class="brand" href="#" style="padding: 0px 5px"><img src="img/cloobster-brand.png" l="product.brand" l-attribute="alt" style="max-height: 40px;"></img></a>
        <!-- Login Drop Down -->
        <div ng-controller="Cloobster.Login">
          <div class="btn-group pull-right" ng-show="loggedIn">
             <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="icon-user"></i> {{getDisplayName()}}
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li><a href="#/profile" l="nav.profile">Profile</a></li>
              <li class="divider"></li>
              <li><a href="#" ng-click="logout()" l="nav.logout">Logout</a></li>
            </ul>
          </div>
 <!--          <div class="btn-group pull-right" ng-hide="loggedIn" id="loginForm">
             <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="icon-user"></i> Login
              <span class="caret"></span>
            </a>
             <div class="dropdown-menu">
              <div class='alert alert-error fade in' ng-show='error'>
                <strong>Error!</strong> {{errorMessage}}
              </div>             
              <form class="form" ng-submit="login()">
                <input type="text" ng-model="loginData.login"  size="30" placeholder="login">
                <input type="password" ng-model="loginData.password"  size="30" placeholder="password">
                  <label class="checkbox">
                      <input type="checkbox" ng-model="loginData.save"> remember login
                  </label>
                <input class="btn btn-primary" type="submit" value="login">
              </form>
              <div style="text-align:center;">or</div>
              <form ng-submit="fbLogin()" >
                  <input class="btn btn-primary" type="submit" value="Login with Facebook">
              </form>
           </div>
          </div> -->
        </div> 
        <div class="nav-collapse">
          <ul class="nav">
            <!-- class="active" -->
            <li ng-class="getActive('/home')"><a href="#/home">Home</a></li>
            <li ng-show="loggedIn" ng-class="getActive('/businesses')"><a href="#/businesses" l="nav.restaurants">My Restaurants</a></li>
            <li ng-class="getActive('/about')"><a href="#/about" l="nav.about">About</a></li>
            <li ng-hide="loggedIn" class="pull-right" ng-class="getActive('/login')"><a href="#/login" l="nav.login">Login</a></li>
            <li ng-hide="loggedIn" class="pull-right" ng-class="getActive('/registration')"><a href="#/registration" l="nav.registration">Registration</a></li>
            <li ng-show="loggedIn" ng-class="getActive('/accounts')"><a href="#/accounts" l="nav.accounts">Account</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <!-- Error alert -->
    <div class="row-fluid" ng-show="error" ng-cloak>
      <div class="alert alert-error alert-block span6" >
        <button class="close" ng-click="error=false;">Ã—</button>
        <h4 class="alert-heading" l="common.warning.title">Error!</h4>
        <p ng-bind="errorMessage"></p>
      </div>
    </div>    
    <div ng-view></div>
  </div> <!-- /container -->
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="lib/jquery/jquery-ui-1.8.21.custom.min.js"></script>  
  <script src="lib/jquery/jquery.ui.widget.js"></script>
  <!-- Begin File Upload Plugin -->
  <script src="lib/jquery/jquery.iframe-transport.js"></script>  
  <script src="lib/jquery/jquery.fileupload.js"></script>
  <script src="lib/jquery/jquery.fileupload-fp.js"></script>
  <script src="lib/jquery/jquery.fileupload-ui.js"></script>  
  <!-- End File Upload Plugin -->
  <script src="lib/bootstrap/bootstrap.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.1/angular.min.js"></script>
  <script src="lib/angular/angular-resource-1.0.1.min.js"></script>
  <script src="app-all.min.js"></script>  
</body>
</html>
