<div class="row-fluid">
	<div class="span12">
		<ul class="breadcrumb">
			<li>
				<a href="#/businesses" l="breadcrumb.businesses">My Restaurants</a> <span class="divider">/</span>
			</li>
			<li class="active">{{activeBusiness.name}}</li>
		</ul>
	</div>
</div>
<div simple-property-editor editor-title="business.detail.name" editor-property="activeBusiness.name" editor-on-save="saveBusiness()" editor-enabled="editMode" editor-required>
	<h1 ng-class="getEditModeClass()">{{activeBusiness.name}}</h1>
	<a href="#/businesses/{{activeBusiness.id}}/menus" l="businesses.action.menus">menus</a> | <a href="#/businesses/{{activeBusiness.id}}/spots" l="businesses.action.spots">tables</a>
</div>
<div class="content-wrapper well">
		<div class="row-fluid">
			<div class="span6" ng-hide="editMode">
				<button type="button" class="btn btn-primary" ng-click="toggleEditMode()" l="business.action.edit.enable">Edit Profile</button>
			</div>
			<div class="span6" ng-show="editMode">
				<button type="button" class="btn btn-primary" ng-click="toggleEditMode()" l="business.action.edit.disable">Done editing</button> 
				<span l="business.action.edit.disable.hint">Click a profile feature to edit.</span>
			</div>
			<div class="span6" ng-hide="editMode">
				<button ng-click="showDeleteDialog(activeBusiness)" class="btn btn-danger"><i class="icon-warning-sign icon-black"></i> <span l="businesses.action.delete">Delete Business</span></button>
			</div>
		</div>
		<div class="row-fluid imagebox">
			<div class="span12">
				<div simple-image-editor editor-title-key="business.detail.logo.editor.title" editor-image-id="logo" editor-on-save="setImage(image)" editor-on-cancel="discardImage(image)" editor-enabled="editMode" editor-image-resource="imageResource">
					<div ng-show="activeBusiness.images.logo.url" class="logo">
						<img  ng-src="{{activeBusiness.images.logo.url}}=s96" alt="click to edit" />
						<p ng-show="editMode" l="business.detail.picture.edit">Click image to edit</p>
					</div>
					<button ng-show="!activeBusiness.images.logo" ng-disabled="!editMode" class="btn logo" l="business.detail.logo.button">Add Logo</button>
				</div>
				<div class="row-fluid">
					<div class="span4">
						<div simple-image-editor editor-title-key="business.detail.picture1.editor.title" editor-image-id="picture1" editor-on-save="setImage(image)" editor-on-cancel="discardImage(image)" editor-enabled="editMode" editor-image-resource="imageResource">
							<div ng-show="activeBusiness.images.picture1.url">
								<img  ng-src="{{activeBusiness.images.picture1.url}}=s128" alt="click to edit" />
								<p ng-show="editMode" l="business.detail.picture.edit">Click image to edit</p>
							</div>
							<button ng-show="!activeBusiness.images.picture1" ng-disabled="!editMode" class="btn" l="business.detail.picture1.button">Add Profile Picture1</button>
						</div>
					</div>
					<div class="span4">
						<div simple-image-editor editor-title-key="business.detail.picture2.editor.title" editor-image-id="picture2" editor-on-save="setImage(image)" editor-on-cancel="discardImage(image)" editor-enabled="editMode" editor-image-resource="imageResource">
							<div ng-show="activeBusiness.images.picture2.url">
								<img  ng-src="{{activeBusiness.images.picture2.url}}=s128" alt="click to edit" />
								<p ng-show="editMode" l="business.detail.picture.edit">Click image to edit</p>
							</div>
							<button ng-show="!activeBusiness.images.picture2" ng-disabled="!editMode" class="btn" l="business.detail.picture2.button">Add Profile Picture2</button>
						</div>
					</div>
					<div class="span4">
						<div simple-image-editor editor-title-key="business.detail.picture3.editor.title" editor-image-id="picture3" editor-on-save="setImage(image)" editor-on-	cancel="discardImage(image)" editor-enabled="editMode" editor-image-resource="imageResource">
							<div ng-show="activeBusiness.images.picture3.url">
								<img  ng-src="{{activeBusiness.images.picture3.url}}=s128" alt="click to edit" />
								<p ng-show="editMode" l="business.detail.picture.edit">Click image to edit</p>
							</div>
							<button ng-show="!activeBusiness.images.picture3" ng-disabled="!editMode" class="btn" l="business.detail.picture3.button">Add Profile Picture3</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.description" editor-property="activeBusiness.description" editor-on-save="saveBusiness()" editor-enabled="editMode" editor-type="textarea" editor-required>
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.description">Description</div>
				<div class="value">{{activeBusiness.description}}</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.slogan" editor-property="activeBusiness.slogan" editor-on-save="saveBusiness()" editor-enabled="editMode">
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.slogan">Slogan</div>
				<div class="value">{{activeBusiness.slogan}}</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.address" editor-property="activeBusiness.address" editor-on-save="saveBusiness()" editor-enabled="editMode" editor-required>
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.address">Address</div>
				<div class="value">{{activeBusiness.address}}</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.city" editor-property="activeBusiness.city" editor-on-save="saveBusiness()" editor-enabled="editMode" editor-required>
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.city">City</div>
				<div class="value">{{activeBusiness.city}}</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.postcode" editor-property="activeBusiness.postcode" editor-on-save="saveBusiness()" editor-enabled="editMode" editor-required>
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.postcode">Postcode</div>
				<div class="value">{{activeBusiness.postcode}}</div>
			</div>
		</div>
		<div simple-property-editor editor-title="business.detail.phone" editor-property="activeBusiness.phone" editor-on-save="saveBusiness()" editor-enabled="editMode">
			<div class="data-element" ng-class="getEditModeClass()">
				<div class="key" l="business.detail.phone">Phone</div>
				<div class="value">{{activeBusiness.phone}}</div>
			</div>
		</div>
		<div >
			<div class="data-element">
				<div class="key" l="business.detail.currency">Currency</div>
				<select ng-model="activeBusiness.currency" class="value" ng-disabled="!editMode" ng-change="saveBusiness()" required>
					<option selected="selected" value="EUR">Euro</option>
					<option selected="selected" value="USD">US Dollar</option>
				</select>
			</div>
		</div>
		<div>
			<div class="data-element">
				<div class="key" l="business.detail.paymentmethods">
					Paymentmethods
				</div>
				<div class="value">
					<ul class="payment-method-list">
						<li>
							<button class="btn" ng-click="addPaymentMethod()" ng-disabled="!editMode"><i class="icon-plus icon-black"></i><span l="business.detail.paymentmethods.list.new"> New payment method...</span></button>
						</li>
						<li ng-repeat="method in activeBusiness.paymentMethods" ng-class="getEditModeClass()">
							<div class="row-fluid">	
								<div class="span10">
									<div simple-property-editor editor-title="business.detail.paymentmethod" editor-property="method.name" editor-on-save="saveBusiness()" editor-required>
										<span>{{method.name}}</span>
									</div>
								</div>
								<div class="span2">
									<button class="btn btn-small" ng-click="removePaymentMethod($index)" ng-disabled="!editMode"><i class="icon-trash"></i></button>
								</div>
							</div>
						</li>
						
					</ul>
				</div>
			</div>
		</div>
		<div>
			<div class="data-element">				
				<div class="key" l="business.detail.themes">
					Themes
				</div>
				<div class="value">
					<div class="business-theme-preview" ng-class="{active: activeBusiness.theme == 'default'}" ng-click="activateTheme('default')">
						<img  src="img/themes/default-theme.png" alt="click to activate"/>
					</div>
					<div class="business-theme-preview" ng-class="{active: activeBusiness.theme == 'dark'}" ng-click="activateTheme('dark')">
						<img  src="img/themes/dark-theme.png" alt="click to activate"/>
					</div>
					<div class="business-theme-preview" ng-class="{active: activeBusiness.theme == 'light'}" ng-click="activateTheme('light')">
						<img  src="img/themes/light-theme.png" alt="click to activate"/>
					</div>
				</div>
			</div>
		</div>
</div>

<div class="modal hide" id="deleteModal">
 	<div class="modal-header">
    	<button type="button" class="close" data-dismiss="modal">Ã—</button>
    	<h3 l="businesses.dialog.delete">Delete Restaurant</h3>
	</div>
	<form name="businessDeleteForm" ng-submit="deleteBusiness()" novalidate>
		<div class="modal-body alert-error">
	    	<p l="business.dialog.delete.text">Attention! You're about to delete {{activeBusiness.name}}. The business will be inactivated and put into a read-only mode. Users currently locked in will be able to see their current status (e. g. orders) but can't execute further actions. Business will be kept for a while before it will be deleted permanently.</p>
	    	<p l="business.dialog.delete.confirm">Please confirm your delete attempt by entering your password.</p>
    		<label for="deletePassword" l="common.password">Password</label>
    		<input type="password" id="deletePassword" name="deletePassword" ng-model="deletePassword" required></input>
    		<span>{{deleteError}}</span>
	    </div>
	  	<div class="modal-footer">
	  		<button type="button" class="btn" data-dismiss="modal" l="common.cancel">Cancel</button>
	    	<button type="submit" class="btn btn-danger" ng-disabled="!deletePassword" l="common.delete">Delete</button>
		</div>
	</form>
</div>