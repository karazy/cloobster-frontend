<div ng-controller="Cloobster.Menu" class="menus-wrapper">
<div class="row-fluid">
	<div class="span12">
		<ul class="breadcrumb">
			<li>
				<a href="#">Home</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="#/businesses">My Restaurants</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="#/businesses/{{activeBusiness.id}}">{{activeBusiness.name}}</a> <span class="divider">/</span>
			</li>
			<li class="active">Menus</li>
		</ul>
	</div>
</div>
	<h1 l="menus.title">Menus</h1>
		<div class="row-fluid">
			<div class="menus-list span2">
			<ul class="nav nav-pills nav-stacked">
				<li>
					<a ng-click="createMenu()" l="menus.list.new"><i class="icon-plus icon-black"></i>New menu...</a>
				</li>
		        <li ng-repeat="menu in menus" ng-class="{active: currentMenu.id == menu.id}">	        	
		        	<a ng-click="loadMenu(menu)">{{menu.title}}</a>
		        </li>
		    </ul>
		</div>



	    <div class="span3 menu-wrapper" ng-show="currentMenu">
	    	<div class="menu-detail">
		    	<div simple-property-editor editor-title="Title" editor-property="currentMenu.title" editor-on-save="saveMenu()" editor-required>
					<h3 class="edit">{{currentMenu.title}} <i class="icon-edit icon-black"></i></h3>
				</div>
				<div simple-property-editor editor-title="Description" editor-property="currentMenu.description" editor-on-save="saveMenu()" editor-required>
		    		<p class="edit">{{currentMenu.description}} <i class="icon-edit icon-black"></i></p>
		    	</div>
		    </div>

	    	<div class="menu-products-list" ng-show="currentMenu">
	    		<h3 l="menus.products.title">Products</h3>
	    		<ul class="nav nav-pills nav-stacked">
		       	 	<li ng-repeat="product in products" class="menu-products-item" ng-class="{active: currentProduct.id == product.id}">
			        	<a ng-click="loadProduct(product)">{{product.name}}</a>
			        </li>
	    		</ul>
	    	</div>
	    </div>

	    <div class="span3 product-wrapper" ng-show="currentProduct">
	    	<div class="product-detail">
		    	<h3>{{currentProduct.name}}</h3>
		    	<p>{{currentProduct.shortDesc}}</p>
		    	<p>{{currentProduct.longDesc}}</p>
		    </div>
		    <div class="product-choices-list" ng-show="currentProduct">
	    		<h3 l="menus.products.choices.title">Choices</h3>
	    		<ul class="nav nav-pills nav-stacked">
		       	 	<li ng-repeat="choice in choices" class="product-choice-item" ng-class="{active: currentChoice.id == choice.id}">
			        	<a ng-click="loadChoice(choice)">{{choice.text}}</a>
			        </li>
	    		</ul>
	    	</div>
	    </div>

	    <div class="span3 choice-wrapper" ng-show="currentChoice">
	    	<div class="choice-detail">
		    	<h4>{{currentChoice.text}}</h4>
		    	<p>Max. selected: {{currentChoice.maxOccurence}}</p>
		    	<p>Min. selected: {{currentChoice.minOccurence}}</p>
		    	<p>Options included: {{currentChoice.included}}</p>
		    </div>
		    <div class="choice-options-list" ng-show="currentChoice">
	    		<h4 l="menus.products.choices.options.title">Options</h4>
	    		<button class="btn-small" ng-click="addOption()"><i class="icon-plus"></i> Add Option</button>
	    		<ul>
		       	 	<li ng-repeat="option in currentChoice.options" class="choice-option-item">
		       	 		<div class="edit" simple-property-editor editor-title="Edit Option" editor-property="option.name" editor-on-save="saveChoice()" editor-required>{{option.name}} <i class="icon-edit icon-black"></i></div> - {{option.price}} <button class="btn btn-small" ng-click="removeOption($index)"><i class="icon-trash"></i></button>
			        </li>
	    		</ul>
	    	</div>
	    </div>

	</div>
</div>