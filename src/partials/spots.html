<div class="spots-wrapper">
	<div class="row-fluid">
		<div class="span12">
			<ul class="breadcrumb">
				<li>
					<a href="#/businesses" l="breadcrumb.businesses">My Restaurants</a> <span class="divider">/</span>
				</li>
				<li>
					<a href="#/businesses/{{activeBusiness.id}}">{{activeBusiness.name}}</a> <span class="divider">/</span>
				</li>
				<li class="active" l="breadcrumb.tables">Tables</li>
			</ul>
		</div>
	</div>
	<h1 l="spots.title">Tables</h1>
	<div class="row-fluid">
		<div class="spots-list span2">
		<ul class="nav nav-pills nav-stacked">
			<li>
				<a ng-click="createSpot()"><i class="icon-plus icon-black"></i> <span l="spots.list.new">New spot...</span></a>
			</li>
	        <li ng-repeat="spot in spots | orderBy:['name'] " ng-class="{active: currentSpot.id == spot.id}">	        	
	        	<a ng-click="loadSpot(spot)">{{spot.name}}</a>
	        </li>
	    </ul>
	</div>

    <div class="span3 spot-wrapper" ng-show="currentSpot">
    	<div class="spot-detail">
	    	<div simple-property-editor editor-title="spots.editor.name" editor-property="currentSpot.name" editor-on-save="saveSpot()" editor-required>
				<h3 class="edit" tooltip="spots.editor.name.tooltip">{{currentSpot.name}} <i class="icon-edit icon-black"></i></h3>
			</div>
    		<img ng-show="currentSpot.qrImageUrl" ng-src="{{currentSpot.qrImageUrl}}" alt="Spot Barcode"/>
    		<p>{{currentSpot.barcode}}</p>
    		<div class="activation-checkbox">
				<input type="checkbox" id="spotActiveCb" ng-model="currentSpot.active" ng-change="saveSpot()"></input>
		    	<label l="spots.field.active" for="spotActiveCb">Active: Guests can check-in</label>
			</div>
    		<div ng-show="currentSpot.id">
	    		<button class="btn" data-toggle="modal" data-target="#deleteSpotModal"><i class="icon-trash"></i> <span l="spot.action.delete">Delete table</span></button>
	    		<!-- Modal delete dialog. -->
	    		<div class="modal hide" id="deleteSpotModal">
				 	<div class="modal-header">
				    	<button type="button" class="close" data-dismiss="modal">Ã—</button>
				    	<h3 l="spot.action.delete">Delete Spot</h3>
					</div>
					<div class="modal-body alert-error">
				    	<p><span l="spot.action.delete.text">{{currentSpot.name}} will be deleted!<br/>Already printed barcodes can't be reused afterwards!</span></p>
				    </div>  
				  	<div class="modal-footer">
				  		<button type="button" class="btn" data-dismiss="modal" l="common.cancel">Cancel</button>
				    	<button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="deleteSpot(currentSpot)" l="common.delete">Delete</button>
					</div>
				</div>
	    	</div>
		</div>
	</div>
</div>